!function(){const t=new Intl.NumberFormat(document.querySelector("html")?.lang||navigator.language).format,e=document.getElementById("list-item"),n="starred",o=()=>{const t=localStorage.getItem(n);return t?JSON.parse(t):{}},r=document.getElementById("language-select"),a=document.head.appendChild(document.createElement("style")),s=document.getElementById("starred-checkbox"),c=document.getElementById("list"),d=document.getElementById("info");(async()=>{const t=new Date,e=new Date(t);e.setDate(t.getDate()-7);try{const t=await fetch(`https://api.github.com/search/repositories?q=created:>${e.toISOString()}&sort=stars&order=desc&per_page=100`);return(await t.json()).items}catch(t){throw new Error("Unable to load repositories")}})().then((i=>{var l;l=c,s.addEventListener("change",(t=>{l.classList.toggle("RepositoryList--starred",t.target.checked)}));const g=(t=>{const e=t.map((t=>t.language));return[...new Set(e)].filter((t=>"string"==typeof t)).sort()})(i);((t,e)=>{r.addEventListener("change",(e=>{const{value:n}=e.target;t.dataset.language=n})),a.textContent=e.map((t=>`\n        .RepositoryList[data-language="${t}"] .RepositoryListItem:not([data-language="${t}"]) {\n            display: none;\n        }`)).join("");const n=e.map((t=>{const e=document.createElement("option");return e.textContent=t,e})),o=new DocumentFragment;o.append(...n),r.appendChild(o)})(c,g);const m=o(),u=i.map((n=>((n,o=!1)=>{const r=document.importNode(e.content,!0),a=r.querySelector(".RepositoryListItem");a.dataset.id=n.id.toString(),n.language&&(a.dataset.language=n.language),o&&a.classList.add("RepositoryListItem--starred"),r.querySelector(".repository-link").href=n.html_url,r.querySelector(".owner-name").textContent=n.owner.login,r.querySelector(".repository-name").textContent=n.name,r.querySelector(".description").textContent=n.description,r.querySelector(".language").textContent=n.language;const s=r.querySelector(".stars"),c=n.stargazers_count+(o?1:0);return s.dataset.stars=c.toString(),s.textContent=t(c),r})(n,m[n.id]))),p=new DocumentFragment;p.append(...u),c.appendChild(p),c.addEventListener("click",(e=>{const r=e.target;if(!r.closest(".btn--star"))return;const a=r.closest(".RepositoryListItem"),s=a.classList.toggle("RepositoryListItem--starred");(t=>{localStorage.setItem(n,JSON.stringify(t))})({...o(),[a.dataset.id]:s||void 0});const c=a.querySelector(".stars"),d=Number(c.dataset.stars)+(s?1:-1);c.dataset.stars=d.toString(),c.textContent=t(d)})),c.removeChild(d)})).catch((t=>{document.getElementById("loader").hidden=!0;const e=document.getElementById("error");e.hidden=!1,e.textContent=t.toString()}))}();
//# sourceMappingURL=index.6031e217.js.map
